"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authService: function() { return /* binding */ authService; },\n/* harmony export */   authenticatedRequest: function() { return /* binding */ authenticatedRequest; }\n/* harmony export */ });\n/* harmony import */ var _mysql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mysql */ \"./src/lib/mysql.ts\");\n// Authentication Service\n// Handles login, registration, and token management\n\n// Token management\nconst TOKEN_KEY = \"forward_africa_token\";\nconst USER_KEY = \"forward_africa_user\";\nconst authService = {\n    // Store token and user data\n    setAuthData: (token, user)=>{\n        localStorage.setItem(TOKEN_KEY, token);\n        localStorage.setItem(USER_KEY, JSON.stringify(user));\n    },\n    // Get stored token\n    getToken: ()=>{\n        return localStorage.getItem(TOKEN_KEY);\n    },\n    // Get stored user data\n    getUser: ()=>{\n        const userData = localStorage.getItem(USER_KEY);\n        return userData ? JSON.parse(userData) : null;\n    },\n    // Clear auth data\n    clearAuthData: ()=>{\n        localStorage.removeItem(TOKEN_KEY);\n        localStorage.removeItem(USER_KEY);\n    },\n    // Check if user is authenticated\n    isAuthenticated: ()=>{\n        return !!authService.getToken();\n    },\n    // Check if user has specific role\n    hasRole: (role)=>{\n        const user = authService.getUser();\n        return (user === null || user === void 0 ? void 0 : user.role) === role;\n    },\n    // Check if user has admin privileges\n    isAdmin: ()=>{\n        const user = authService.getUser();\n        return (user === null || user === void 0 ? void 0 : user.role) === \"super_admin\";\n    },\n    // Login user\n    login: async (credentials)=>{\n        const response = await fetch(\"\".concat(_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL, \"/auth/login\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(credentials)\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.error || \"Login failed\");\n        }\n        const data = await response.json();\n        authService.setAuthData(data.token, data.user);\n        return data;\n    },\n    // Register user\n    register: async (userData)=>{\n        const response = await fetch(\"\".concat(_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL, \"/auth/register\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(userData)\n        });\n        if (!response.ok) {\n            const error = await response.json();\n            throw new Error(error.error || \"Registration failed\");\n        }\n        const data = await response.json();\n        authService.setAuthData(data.token, data.user);\n        return data;\n    },\n    // Logout user\n    logout: ()=>{\n        authService.clearAuthData();\n    },\n    // Get current user profile\n    getProfile: async ()=>{\n        const token = authService.getToken();\n        if (!token) {\n            throw new Error(\"No authentication token\");\n        }\n        const response = await fetch(\"\".concat(_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL, \"/auth/me\"), {\n            headers: {\n                \"Authorization\": \"Bearer \".concat(token)\n            }\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch user profile\");\n        }\n        const user = await response.json();\n        // Update stored user data\n        authService.setAuthData(token, user);\n        return user;\n    },\n    // Update user profile\n    updateProfile: async (updates)=>{\n        const token = authService.getToken();\n        const user = authService.getUser();\n        if (!token || !user) {\n            throw new Error(\"No authentication token\");\n        }\n        console.log(\"Updating profile for user:\", user.id);\n        console.log(\"Update data:\", updates);\n        console.log(\"API URL:\", \"\".concat(_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL, \"/users/\").concat(user.id));\n        const response = await fetch(\"\".concat(_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL, \"/users/\").concat(user.id), {\n            method: \"PUT\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \".concat(token)\n            },\n            body: JSON.stringify(updates)\n        });\n        console.log(\"Response status:\", response.status);\n        console.log(\"Response ok:\", response.ok);\n        if (!response.ok) {\n            try {\n                const errorData = await response.json();\n                console.error(\"Error response:\", errorData);\n                throw new Error(errorData.error || \"HTTP \".concat(response.status, \": Failed to update profile\"));\n            } catch (parseError) {\n                console.error(\"Failed to parse error response:\", parseError);\n                throw new Error(\"HTTP \".concat(response.status, \": Failed to update profile\"));\n            }\n        }\n        const updatedUser = await response.json();\n        console.log(\"Updated user data:\", updatedUser);\n        authService.setAuthData(token, updatedUser);\n        return updatedUser;\n    }\n};\n// API request helper with authentication\nconst authenticatedRequest = async function(endpoint) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const token = authService.getToken();\n    if (!token) {\n        throw new Error(\"Authentication required\");\n    }\n    const response = await fetch(\"\".concat(_mysql__WEBPACK_IMPORTED_MODULE_0__.API_BASE_URL).concat(endpoint), {\n        ...options,\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": \"Bearer \".concat(token),\n            ...options.headers\n        }\n    });\n    if (response.status === 401) {\n        authService.logout();\n        throw new Error(\"Session expired. Please login again.\");\n    }\n    if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || \"Request failed\");\n    }\n    return response.json();\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVViLEtBQUssSUFBSSxRQUF3QixPQUFoQk4sU0FBU2tCLE1BQU0sRUFBQztZQUM3RCxFQUFFLE9BQU9FLFlBQVk7Z0JBQ25CTCxRQUFRVCxLQUFLLENBQUMsbUNBQW1DYztnQkFDakQsTUFBTSxJQUFJWixNQUFNLFFBQXdCLE9BQWhCUixTQUFTa0IsTUFBTSxFQUFDO1lBQzFDO1FBQ0Y7UUFFQSxNQUFNRyxjQUF3QixNQUFNckIsU0FBU08sSUFBSTtRQUNqRFEsUUFBUUMsR0FBRyxDQUFDLHNCQUFzQks7UUFDbEMxQyxZQUFZQyxXQUFXLENBQUNDLE9BQU93QztRQUMvQixPQUFPQTtJQUNUO0FBQ0YsRUFBRTtBQUVGLHlDQUF5QztBQUNsQyxNQUFNQyx1QkFBdUIsZUFBT0M7UUFBa0JDLDJFQUF1QixDQUFDO0lBQ25GLE1BQU0zQyxRQUFRRixZQUFZUSxRQUFRO0lBRWxDLElBQUksQ0FBQ04sT0FBTztRQUNWLE1BQU0sSUFBSTJCLE1BQU07SUFDbEI7SUFFQSxNQUFNUixXQUFXLE1BQU1DLE1BQU0sR0FBa0JzQixPQUFmL0MsZ0RBQVlBLEVBQVksT0FBVCtDLFdBQVk7UUFDekQsR0FBR0MsT0FBTztRQUNWckIsU0FBUztZQUNQLGdCQUFnQjtZQUNoQixpQkFBaUIsVUFBZ0IsT0FBTnRCO1lBQzNCLEdBQUcyQyxRQUFRckIsT0FBTztRQUNwQjtJQUNGO0lBRUEsSUFBSUgsU0FBU2tCLE1BQU0sS0FBSyxLQUFLO1FBQzNCdkMsWUFBWWdDLE1BQU07UUFDbEIsTUFBTSxJQUFJSCxNQUFNO0lBQ2xCO0lBRUEsSUFBSSxDQUFDUixTQUFTSyxFQUFFLEVBQUU7UUFDaEIsTUFBTUMsUUFBUSxNQUFNTixTQUFTTyxJQUFJO1FBQ2pDLE1BQU0sSUFBSUMsTUFBTUYsTUFBTUEsS0FBSyxJQUFJO0lBQ2pDO0lBRUEsT0FBT04sU0FBU08sSUFBSTtBQUN0QixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvYXV0aC50cz82NjkyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEF1dGhlbnRpY2F0aW9uIFNlcnZpY2VcclxuLy8gSGFuZGxlcyBsb2dpbiwgcmVnaXN0cmF0aW9uLCBhbmQgdG9rZW4gbWFuYWdlbWVudFxyXG5cclxuaW1wb3J0IHsgQVBJX0JBU0VfVVJMIH0gZnJvbSAnLi9teXNxbCc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhVc2VyIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgZnVsbF9uYW1lOiBzdHJpbmc7XHJcbiAgcm9sZTogJ3VzZXInIHwgJ2NvbnRlbnRfbWFuYWdlcicgfCAnY29tbXVuaXR5X21hbmFnZXInIHwgJ3VzZXJfc3VwcG9ydCcgfCAnc3VwZXJfYWRtaW4nO1xyXG4gIHBlcm1pc3Npb25zOiBzdHJpbmdbXTtcclxuICBhdmF0YXJfdXJsPzogc3RyaW5nO1xyXG4gIG9uYm9hcmRpbmdfY29tcGxldGVkOiBib29sZWFuO1xyXG4gIGluZHVzdHJ5Pzogc3RyaW5nO1xyXG4gIGV4cGVyaWVuY2VfbGV2ZWw/OiBzdHJpbmc7XHJcbiAgYnVzaW5lc3Nfc3RhZ2U/OiBzdHJpbmc7XHJcbiAgY291bnRyeT86IHN0cmluZztcclxuICBzdGF0ZV9wcm92aW5jZT86IHN0cmluZztcclxuICBjaXR5Pzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIExvZ2luQ3JlZGVudGlhbHMge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcGFzc3dvcmQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZWdpc3RlckRhdGEge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcGFzc3dvcmQ6IHN0cmluZztcclxuICBmdWxsX25hbWU6IHN0cmluZztcclxuICBlZHVjYXRpb25fbGV2ZWw/OiBzdHJpbmc7XHJcbiAgam9iX3RpdGxlPzogc3RyaW5nO1xyXG4gIHRvcGljc19vZl9pbnRlcmVzdD86IHN0cmluZ1tdO1xyXG4gIGluZHVzdHJ5Pzogc3RyaW5nO1xyXG4gIGV4cGVyaWVuY2VfbGV2ZWw/OiBzdHJpbmc7XHJcbiAgYnVzaW5lc3Nfc3RhZ2U/OiBzdHJpbmc7XHJcbiAgY291bnRyeT86IHN0cmluZztcclxuICBzdGF0ZV9wcm92aW5jZT86IHN0cmluZztcclxuICBjaXR5Pzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhSZXNwb25zZSB7XHJcbiAgdG9rZW46IHN0cmluZztcclxuICB1c2VyOiBBdXRoVXNlcjtcclxuICBtZXNzYWdlOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIFRva2VuIG1hbmFnZW1lbnRcclxuY29uc3QgVE9LRU5fS0VZID0gJ2ZvcndhcmRfYWZyaWNhX3Rva2VuJztcclxuY29uc3QgVVNFUl9LRVkgPSAnZm9yd2FyZF9hZnJpY2FfdXNlcic7XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aFNlcnZpY2UgPSB7XHJcbiAgLy8gU3RvcmUgdG9rZW4gYW5kIHVzZXIgZGF0YVxyXG4gIHNldEF1dGhEYXRhOiAodG9rZW46IHN0cmluZywgdXNlcjogQXV0aFVzZXIpID0+IHtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFRPS0VOX0tFWSwgdG9rZW4pO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVVNFUl9LRVksIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcclxuICB9LFxyXG5cclxuICAvLyBHZXQgc3RvcmVkIHRva2VuXHJcbiAgZ2V0VG9rZW46ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcclxuICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShUT0tFTl9LRVkpO1xyXG4gIH0sXHJcblxyXG4gIC8vIEdldCBzdG9yZWQgdXNlciBkYXRhXHJcbiAgZ2V0VXNlcjogKCk6IEF1dGhVc2VyIHwgbnVsbCA9PiB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFVTRVJfS0VZKTtcclxuICAgIHJldHVybiB1c2VyRGF0YSA/IEpTT04ucGFyc2UodXNlckRhdGEpIDogbnVsbDtcclxuICB9LFxyXG5cclxuICAvLyBDbGVhciBhdXRoIGRhdGFcclxuICBjbGVhckF1dGhEYXRhOiAoKSA9PiB7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUT0tFTl9LRVkpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVVNFUl9LRVkpO1xyXG4gIH0sXHJcblxyXG4gIC8vIENoZWNrIGlmIHVzZXIgaXMgYXV0aGVudGljYXRlZFxyXG4gIGlzQXV0aGVudGljYXRlZDogKCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuICEhYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcclxuICB9LFxyXG5cclxuICAvLyBDaGVjayBpZiB1c2VyIGhhcyBzcGVjaWZpYyByb2xlXHJcbiAgaGFzUm9sZTogKHJvbGU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IGF1dGhTZXJ2aWNlLmdldFVzZXIoKTtcclxuICAgIHJldHVybiB1c2VyPy5yb2xlID09PSByb2xlO1xyXG4gIH0sXHJcblxyXG4gIC8vIENoZWNrIGlmIHVzZXIgaGFzIGFkbWluIHByaXZpbGVnZXNcclxuICBpc0FkbWluOiAoKTogYm9vbGVhbiA9PiB7XHJcbiAgICBjb25zdCB1c2VyID0gYXV0aFNlcnZpY2UuZ2V0VXNlcigpO1xyXG4gICAgcmV0dXJuIHVzZXI/LnJvbGUgPT09ICdzdXBlcl9hZG1pbic7XHJcbiAgfSxcclxuXHJcbiAgLy8gTG9naW4gdXNlclxyXG4gIGxvZ2luOiBhc3luYyAoY3JlZGVudGlhbHM6IExvZ2luQ3JlZGVudGlhbHMpOiBQcm9taXNlPEF1dGhSZXNwb25zZT4gPT4ge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2F1dGgvbG9naW5gLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbHMpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdMb2dpbiBmYWlsZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhOiBBdXRoUmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBhdXRoU2VydmljZS5zZXRBdXRoRGF0YShkYXRhLnRva2VuLCBkYXRhLnVzZXIpO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSxcclxuXHJcbiAgLy8gUmVnaXN0ZXIgdXNlclxyXG4gIHJlZ2lzdGVyOiBhc3luYyAodXNlckRhdGE6IFJlZ2lzdGVyRGF0YSk6IFByb21pc2U8QXV0aFJlc3BvbnNlPiA9PiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYXV0aC9yZWdpc3RlcmAsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgJ1JlZ2lzdHJhdGlvbiBmYWlsZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhOiBBdXRoUmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBhdXRoU2VydmljZS5zZXRBdXRoRGF0YShkYXRhLnRva2VuLCBkYXRhLnVzZXIpO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSxcclxuXHJcbiAgLy8gTG9nb3V0IHVzZXJcclxuICBsb2dvdXQ6ICgpID0+IHtcclxuICAgIGF1dGhTZXJ2aWNlLmNsZWFyQXV0aERhdGEoKTtcclxuICB9LFxyXG5cclxuICAvLyBHZXQgY3VycmVudCB1c2VyIHByb2ZpbGVcclxuICBnZXRQcm9maWxlOiBhc3luYyAoKTogUHJvbWlzZTxBdXRoVXNlcj4gPT4ge1xyXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGF1dGhlbnRpY2F0aW9uIHRva2VuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2F1dGgvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIHByb2ZpbGUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VyOiBBdXRoVXNlciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIC8vIFVwZGF0ZSBzdG9yZWQgdXNlciBkYXRhXHJcbiAgICBhdXRoU2VydmljZS5zZXRBdXRoRGF0YSh0b2tlbiwgdXNlcik7XHJcbiAgICByZXR1cm4gdXNlcjtcclxuICB9LFxyXG5cclxuICAvLyBVcGRhdGUgdXNlciBwcm9maWxlXHJcbiAgdXBkYXRlUHJvZmlsZTogYXN5bmMgKHVwZGF0ZXM6IFBhcnRpYWw8QXV0aFVzZXI+KTogUHJvbWlzZTxBdXRoVXNlcj4gPT4ge1xyXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xyXG4gICAgY29uc3QgdXNlciA9IGF1dGhTZXJ2aWNlLmdldFVzZXIoKTtcclxuXHJcbiAgICBpZiAoIXRva2VuIHx8ICF1c2VyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYXV0aGVudGljYXRpb24gdG9rZW4nKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnVXBkYXRpbmcgcHJvZmlsZSBmb3IgdXNlcjonLCB1c2VyLmlkKTtcclxuICAgIGNvbnNvbGUubG9nKCdVcGRhdGUgZGF0YTonLCB1cGRhdGVzKTtcclxuICAgIGNvbnNvbGUubG9nKCdBUEkgVVJMOicsIGAke0FQSV9CQVNFX1VSTH0vdXNlcnMvJHt1c2VyLmlkfWApO1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS91c2Vycy8ke3VzZXIuaWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVzKSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgIGNvbnNvbGUubG9nKCdSZXNwb25zZSBvazonLCByZXNwb25zZS5vayk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXNwb25zZTonLCBlcnJvckRhdGEpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiBGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGVgKTtcclxuICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBlcnJvciByZXNwb25zZTonLCBwYXJzZUVycm9yKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiBGYWlsZWQgdG8gdXBkYXRlIHByb2ZpbGVgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVwZGF0ZWRVc2VyOiBBdXRoVXNlciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKCdVcGRhdGVkIHVzZXIgZGF0YTonLCB1cGRhdGVkVXNlcik7XHJcbiAgICBhdXRoU2VydmljZS5zZXRBdXRoRGF0YSh0b2tlbiwgdXBkYXRlZFVzZXIpO1xyXG4gICAgcmV0dXJuIHVwZGF0ZWRVc2VyO1xyXG4gIH0sXHJcbn07XHJcblxyXG4vLyBBUEkgcmVxdWVzdCBoZWxwZXIgd2l0aCBhdXRoZW50aWNhdGlvblxyXG5leHBvcnQgY29uc3QgYXV0aGVudGljYXRlZFJlcXVlc3QgPSBhc3luYyAoZW5kcG9pbnQ6IHN0cmluZywgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fSkgPT4ge1xyXG4gIGNvbnN0IHRva2VuID0gYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcclxuXHJcbiAgaWYgKCF0b2tlbikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9JHtlbmRwb2ludH1gLCB7XHJcbiAgICAuLi5vcHRpb25zLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxyXG4gICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcclxuICAgIGF1dGhTZXJ2aWNlLmxvZ291dCgpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uIGV4cGlyZWQuIFBsZWFzZSBsb2dpbiBhZ2Fpbi4nKTtcclxuICB9XHJcblxyXG4gIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmVycm9yIHx8ICdSZXF1ZXN0IGZhaWxlZCcpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcclxufTsiXSwibmFtZXMiOlsiQVBJX0JBU0VfVVJMIiwiVE9LRU5fS0VZIiwiVVNFUl9LRVkiLCJhdXRoU2VydmljZSIsInNldEF1dGhEYXRhIiwidG9rZW4iLCJ1c2VyIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRUb2tlbiIsImdldEl0ZW0iLCJnZXRVc2VyIiwidXNlckRhdGEiLCJwYXJzZSIsImNsZWFyQXV0aERhdGEiLCJyZW1vdmVJdGVtIiwiaXNBdXRoZW50aWNhdGVkIiwiaGFzUm9sZSIsInJvbGUiLCJpc0FkbWluIiwibG9naW4iLCJjcmVkZW50aWFscyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIm9rIiwiZXJyb3IiLCJqc29uIiwiRXJyb3IiLCJkYXRhIiwicmVnaXN0ZXIiLCJsb2dvdXQiLCJnZXRQcm9maWxlIiwidXBkYXRlUHJvZmlsZSIsInVwZGF0ZXMiLCJjb25zb2xlIiwibG9nIiwiaWQiLCJzdGF0dXMiLCJlcnJvckRhdGEiLCJwYXJzZUVycm9yIiwidXBkYXRlZFVzZXIiLCJhdXRoZW50aWNhdGVkUmVxdWVzdCIsImVuZHBvaW50Iiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib/auth.ts\n"));

/***/ })

});